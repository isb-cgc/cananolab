<canano-main-display-heading
    [helpUrl]="helpUrl"
    [toolHeadingName]="'Create Sample'"
>
</canano-main-display-heading>
<div class="mainSection" *ngIf="data">
    <div class="error" *ngIf="errors['error']">
        {{errors['error']}}
    </div>
    <form name="createSampleForm">
        <div class="mainBorder">
            <table class="dataMain">
                <tr>
                    <td class="label">
                        <label for="sampleName">
                            Sample Name*
                        </label>
                    </td>
                    <td>
                        <input [(ngModel)]="data.sampleName" name="data.sampleName" id="data.sampleName" type="text" size="100" trimInput>
                    </td>
                </tr>
                <tr>
                    <td class="label">
                        <label for="pointOfContact">
                            Point of Contact*
                        </label>
                    </td>
                    <td>
                        <div class="mainBorder" id="pocForm">
                            <table class="dataMain">
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.organization.name">
                                            Organization Name*
                                        </label>
                                    </td>
                                    <td>
                                        <select (ngModelChange)="addOtherValue('pointOfContact.organization.name',pointOfContact.organization.name)" name="pointOfContact.organization.name" id="pointOfContact.organization.name" [(ngModel)]="pointOfContact.organization.name">
                                            <option [ngValue]="''">--Select--</option>
                                            <option *ngFor="let org of data.organizationNamesForUser" [ngValue]="org">
                                                {{org}}
                                            </option>
                                            <option>other</option>
                                        </select>
                                        <div *ngIf="pointOfContact.organization.name ==='other'">
                                            <canano-other-dropdown (saveOther)="saveOther($event)" [label]="'Organization Name'" [value]="currentDropdownValues['pointOfContact.organization.name']" [field]="'pointOfContact.organization.name'" [array]="'data.organizationNamesForUser'">

                                            </canano-other-dropdown>
                                        </div>
                                    </td>
                                    <td class="label">
                                        <label for="pointOfContact.role">
                                            Role*
                                        </label>
                                    </td>
                                    <td colspan="3">
                                        <select (ngModelChange)="addOtherValue('pointOfContact.role',pointOfContact.role)" name="pointOfContact.role" id="pointOfContact.role" [(ngModel)]="pointOfContact['role']">
                                            <option [ngValue]="''">--Select--</option>
                                            <option *ngFor="let role of data.contactRoles" [ngValue]="role">
                                                {{role}}
                                            </option>
                                            <option>other</option>
                                        </select>
                                        <div *ngIf="pointOfContact.role ==='other'">
                                            <canano-other-dropdown (saveOther)="saveOther($event)" [label]="'Role'" [value]="currentDropdownValues['pointOfContact.role']" [field]="'pointOfContact.role'" [array]="'data.contactRoles'">

                                            </canano-other-dropdown>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.firstName">
                                            First Name
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.firstName" id="pointOfContact.firstName" [(ngModel)]="pointOfContact.firstName" trimInput>
                                    </td>
                                    <td class="label">
                                        <label for="pointOfContact.middleInitial">
                                            Middle Initial
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.middleInitial" id="pointOfContact.middleInitial" [(ngModel)]="pointOfContact.middleInitial" size="4" trimInput>
                                    </td>
                                    <td class="label">
                                        <label for="pointOfContact.lastName">
                                            Last Name
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.lastName" id="pointOfContact.lastName" [(ngModel)]="pointOfContact.lastName"  trimInput>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.phoneNumber">
                                            Phone Number
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.phoneNumber" id="pointOfContact.phoneNumber" [(ngModel)]="pointOfContact.phoneNumber"  trimInput>
                                    </td>
                                    <td class="label">
                                        <label for="pointOfContact.email">
                                            Email
                                        </label>
                                    </td>
                                    <td colspan="3">
                                        <input type="text" name="pointOfContact.email" id="pointOfContact.email" [(ngModel)]="pointOfContact.email" trimInput>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.address.line1">
                                            Address Line 1
                                        </label>
                                    </td>
                                    <td colspan="5">
                                        <input type="text" name="pointOfContact.address.line1" id="pointOfContact.address.line1" [(ngModel)]="pointOfContact.address.line1" trimInput>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.address.line2">
                                            Address Line 2
                                        </label>
                                    </td>
                                    <td colspan="5">
                                        <input type="text" name="pointOfContact.address.line2" id="pointOfContact.address.line2" [(ngModel)]="pointOfContact.address.line2" trimInput>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.address.city">
                                            City
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.address.city" id="pointOfContact.address.city" [(ngModel)]="pointOfContact.address.city" trimInput>
                                    </td>
                                    <td class="label">
                                        <label for="pointOfContact.address.stateProvince">
                                            State
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.address.stateProvince" id="pointOfContact.address.stateProvince" [(ngModel)]="pointOfContact.address.stateProvince" trimInput>
                                    </td>
                                    <td class="label">
                                        <label for="pointOfContact.address.zip">
                                            Zip/Postal Code
                                        </label>
                                    </td>
                                    <td>
                                        <input type="text" name="pointOfContact.address.zip" id="pointOfContact.address.zip" [(ngModel)]="pointOfContact.address.zip" size="10" trimInput>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="label">
                                        <label for="pointOfContact.address.country">
                                            Country
                                        </label>
                                    </td>
                                    <td colspan="5">
                                        <input type="text" name="pointOfContact.address.country" id="pointOfContact.address.country" [(ngModel)]="pointOfContact.address.country" trimInput>
                                    </td>
                                </tr>
                            </table>
                            <br>
                             <div style="width:900px">
                                <div>
                                    Enter only <i>public business-related</i> contact information into these fields (such as institutional
                                    points of contact used in public publications). <i>Do not</i> add private contact information here, as this information will be made available to the public viewing the system. The system will contact you yearly, via the email address you provide, to ask if you would like to correct, update, or delete this information. If you would like to update it earlier, contact us via cananolab-support@isb-cgc.org.
                                </div>
                                <br>
                                <div>
                                    <input type="checkbox" [checked]="piiConfirmed" (change)="piiConfirmed = !piiConfirmed">
                                    <b> * I have read and understood the message above.</b>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>

            </table>
        </div>
        <br />
        <div>
            <table class="submit">
                <tr>
                    <td>
                        <button (click)="reset()" class="btn-canano btn-canano-danger btn-canano-lg mr-1">Reset</button>
                        <button [disabled]="data.sampleName==''||pointOfContact.name==''||pointOfContact.role==''||!piiConfirmed" (click)="onSaveSample()" class="btn-canano btn-canano-primary btn-canano-lg mr-1">Save</button>
                    </td>
                </tr>
            </table>
        </div>
    </form>
</div>

<!-- <canano-point-of-contact-create
    [poc]=pointOfContacts
    [sampleData]="organizationNames"
    [sampleName]="sampleName"
></canano-point-of-contact-create> -->
