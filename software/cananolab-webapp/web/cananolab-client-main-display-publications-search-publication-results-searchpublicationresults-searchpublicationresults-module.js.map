{"version":3,"sources":["./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.module.ts","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.component.ts","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.component.html","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.pipe.ts","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults-routing.module.ts"],"names":[],"mappings":"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","file":"cananolab-client-main-display-publications-search-publication-results-searchpublicationresults-searchpublicationresults-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SearchpublicationresultsComponent } from './searchpublicationresults.component';\nimport { SearchpublicationresultsRoutingModule } from './searchpublicationresults-routing.module';\nimport { SharedModule } from '../../../../common/modules/set-object-value/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SearchpublicationresultsPipe } from './searchpublicationresults.pipe';\nimport { DisclaimerModule } from 'src/app/cananolab-client/common/components/disclaimer/disclaimer.module';\n\n\n@NgModule({\n    declarations: [SearchpublicationresultsComponent, SearchpublicationresultsPipe],\n    imports: [\n      CommonModule,\n      SearchpublicationresultsRoutingModule,\n      SharedModule,\n      FormsModule,\n      ReactiveFormsModule,\n      DisclaimerModule\n    ]\n  })\n  export class SearchpublicationresultsModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { SearchPublicationService } from '../../search-publication/search-publication.service';\nimport { Properties } from '../../../../../../assets/properties';\nimport { SearchResultsPagerService } from '../../../../common/components/search-results-pager/search-results-pager.service';\nimport { takeUntil, timeout } from 'rxjs/operators';\nimport { Consts, SortState } from '../../../../../constants';\nimport { StatusDisplayService } from '../../../../status-display/status-display.service';\nimport { Subject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { ApiService } from '../../../../common/services/api.service';\nimport { timeoutWith } from 'rxjs/operators'\nimport { throwError } from 'rxjs'\n\n@Component({\n    selector: 'canano-searchpublicationresults',\n    templateUrl: './searchpublicationresults.component.html',\n    styleUrls: ['./searchpublicationresults.component.scss'],\n})\nexport class SearchpublicationresultsComponent implements OnInit {\n    maxPageLength = Properties.MAX_PAGE_LENGTH;\n    pageLength = Properties.DEFAULT_PAGE_LENGTH;\n    columnHeadings = [\n        { Actions: 'Actions' },\n        { displayName: 'Bibliography Info' },\n        { publicationType: 'Type' },\n        { researchAreas: 'Research Category' },\n        { sampleNames: 'Associated Sample Names' },\n        { descriptionDetail: 'Description' },\n        { status: 'Status' },\n        { createdDate: 'Created' }\n    ];\n    errors = {};\n    searchResults;\n    helpUrl = Consts.HELP_URL_SAMPLE_SEARCH;\n    toolHeadingNameSearchSample = 'Sample Search Results';\n    pageCount = 10;\n    searchResultsCount = -1;\n    currentPage = 0;\n    searchResultsPageToDisplay;\n\n    sortingStates = [\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT\n\n    ];\n\n    sortState = SortState;\n    properties = Properties;\n    userName;\n\n    private ngUnsubscribe: Subject<boolean> = new Subject<boolean>();\n\n    constructor(\n        private apiService: ApiService,\n        private router: Router,\n        private statusDisplayService: StatusDisplayService,\n        private searchResultsPagerService: SearchResultsPagerService,\n        private searchPublicationService: SearchPublicationService\n    ) {}\n\n    ngOnInit(): void {\n        this.searchResults =\n            this.searchPublicationService.getPublicationSearchResults();\n        this.searchResultsCount = this.searchResults.length;\n\n        this.searchResultsPagerService.currentPageChangeEmitter\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe(\n                (data) => {\n                    this.currentPage = data;\n                    this.setupPage();\n                    this.errors = {};\n                },\n                (error) => {\n                    this.errors = error;\n                }\n            );\n\n        console.log(this.properties);\n        this.statusDisplayService.updateUserEmitter\n            .pipe(timeoutWith(Properties.HTTP_TIMEOUT, throwError(new Error(\"Didn't see user update!\"))))\n            .subscribe(\n                (data) => {\n                    this.errors = {};\n                    this.userName = data;\n                },\n                (error) => {\n                    this.errors = error;\n                }\n            );\n\n        this.searchResultsCount = this.searchResults.length;\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\n        this.onPageLengthChange();\n    }\n\n    navigateToPublication(publicationId) {\n        this.router.navigate([\n            '/home/samples/publications/publication',\n            publicationId,\n        ]);\n    }\n\n    addToFavorites(publication) {\n        let data = {\n            dataId: publication.id,\n            dataName: publication.title,\n            dataType: 'publication',\n            editable: publication.editable,\n            loginName: Properties.current_user,\n            pubmedId: publication.pubmedId,\n        };\n        this.errors = {};\n        this.apiService\n            .doPost('/rest/core/addFavorite', data)\n            .subscribe(\n                (data) => {\n                    publication['addedToFavorites']=data;\n                    console.log('added to favorites');\n                },\n                (error) => {\n                    this.errors = error;\n                }\n            );\n    }\n\n    onPageLengthChange() {\n        if (this.pageLength < 1) {\n            this.pageLength = 1;\n        }\n        if (this.pageLength > this.maxPageLength) {\n            this.pageLength = this.maxPageLength;\n        }\n\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\n        this.searchResultsPagerService.setPageCount(this.pageCount);\n        this.setupPage(); // Sets this page as the currently vied search results.\n    }\n\n    onSortClick(i, key) {\n        if (i) {\n            if (this.sortingStates[i]) {\n                // clicking on column that already is sorted on //\n                this.sortingStates[i] = this.sortingStates[i] == 1 ? 2 : 1;\n            } else {\n                // reset sorting states //\n                this.sortingStates.forEach((item, index) => {\n                    this.sortingStates[index] = 0;\n                });\n                this.sortingStates[i] = 1;\n            }\n            console.log(this.sortingStates)\n            if (this.sortingStates[i] == 1) {\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key]) > this.getStringValue(b[key]) ? 1 : -1));\n            } else {\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key]) < this.getStringValue(b[key]) ? 1 : -1));\n            }\n            this.setupPage();\n        }\n    }\n\n    getStringValue(val) {\n        if (val) {\n            return val.toString().toUpperCase()\n        }\n        return ''\n    }\n\n    setupPage() {\n        this.searchResultsPageToDisplay = this.searchResults.slice(\n            this.pageLength * this.currentPage,\n            this.pageLength * (this.currentPage + 1)\n        );\n    }\n}\n","<canano-main-display-heading [helpUrl]=\"'https://wiki.nci.nih.gov/display/caNanoLab/Managing+Publications+in+caNanoLab#ManagingPublicationsincaNanoLab-SearchPublications'\" [toolHeadingName]=\"'Publication Search Results'\"> </canano-main-display-heading>\n<div class=\"error\" *ngIf=\"errors['error']\"> {{errors['error']}} </div>\n<div class=\"mainSection\" *ngIf=\"searchResults\">\n\t<div *ngIf=\"!searchResults.length\" class=\"mainBorder\"> No search results found. </div>\n\t<div *ngIf=\"searchResults.length\"> <span class=\"ml-2\">\n            {{searchResults.length}} Item{{(searchResults.length > 1 ? 's' : '')}} found, displaying\n            {{(currentPage * pageLength) + 1}}\n            -{{ (((currentPage * pageLength) + pageLength) > searchResults.length) ? searchResults.length : (currentPage\n            * pageLength) + pageLength }}\n        </span>\n\t\t<canano-search-results-pager style=\"float: right;\" [totalCount]=searchResultsCount [startingPageLength]=pageLength></canano-search-results-pager> <span class=\"search-results-pager\">\n            <!-- Page length number setting  -->\n            <span class=\"ml-5\">\n                Show\n                <input class=\"number-spinner rows-per-page-spinner\" min=\"1\" max=\"{{maxPageLength}}\" type=\"number\"\n                    [(ngModel)]=\"pageLength\" (change)=\"onPageLengthChange()\">\n                entries\n            </span>\n\t\t<!-- Pager buttons -->\n\t\t</span>\n\t\t<br />\n\t\t<br />\n\t\t<table id=\"collapsible-table\" class=\"dataTable\">\n            <thead>\n\t\t\t<!-- -----  Header row  ----- -->\n\t\t\t<tr>\n                <ng-container *ngFor=\"let col of columnHeadings; let i = index\">\n                    <th *ngFor=\"let colKeyValue of col | keyvalue\" class=\"unselectable hand\"\n                        (click)=\"onSortClick(i, colKeyValue.key)\">\n                        <label for=\"sortClick\" class=\"hand\">\n                            {{ colKeyValue.value }}\n                            <span *ngIf=\"i > 0\" id=\"sortClick\" class=\"inline\">\n                                <span *ngIf=\"i > 0\" class=\"sortImages\" >\n                                    <span *ngIf=\"sortingStates[i] === sortState.NO_SORT\">\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\n                                        </svg>\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\n                                        </svg>\n                                    </span>\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_UP\" width=\"10\" height=\"10\" fill=\"currentColor\">\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\n                                    </svg>\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_DOWN\"  width=\"10\" height=\"10\" fill=\"currentColor\">\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\n                                    </svg>\n                                </span>\n                            </span>\n                        </label>\n                        <!-- No sorting for \"Actions\" column -->\n\n                        <!-- END Add sorting icons -->\n                    </th>\n                </ng-container>\n\t\t\t</tr>\n            </thead>\n\t\t\t<!-- -----  END Header row  ----- -->\n\t\t\t<tr *ngFor=\"let publication of searchResultsPageToDisplay; let even=even; let odd=odd; let i=index\" class=\"search-results-tr\" [ngClass]=\"{\n                        '': even,\n                        'rowOdd': odd\n                    }\">\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Actions\"> <a *ngIf=\"properties.LOGGED_IN\" (click)=\"navigateToPublication(publication['id'])\">Edit</a>\n\t\t\t\t\t<br>\n                    <div *ngIf=\"publication['addedToFavorites']\">\n                        {{publication['addedToFavorites'][0]}}\n                    </div>\n                    <a *ngIf=\"properties.LOGGED_IN&&!publication['addedToFavorites']\" (click)=\"addToFavorites(publication)\">Add to Favorites</a> </td>\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Bibliography Info\">\n                    <span [innerHtml]=\"(publication.displayName|searchpublicationresults)[0]\"></span>\n                    <canano-disclaimer [hide]=\"true\"></canano-disclaimer>\n                    <a *ngIf=\"(publication.displayName|searchpublicationresults).length>1\" class=\"underline\" data-toggle=\"modal\" data-target=\"#disclaimer\">\n                        <br />[Disclaimer]\n                    </a>\n\n                </td>\n\t\t\t\t<td class=\"search-results-td\" [innerHTML]=\"publication['publicationType']\" data-title=\"Type\"></td>\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Research Category\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li *ngFor=\"let researchArea of publication['researchAreas']\"> {{researchArea}} </li>\n\t\t\t\t\t</ul>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Associated Sample Names\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li *ngFor=\"let sample of publication['sampleNames']\"> {{sample}} </li>\n\t\t\t\t\t</ul>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Description\"> {{publication['descriptionDetail']}} </td>\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Status\"> {{publication.status}} </td>\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Created\"> {{publication['createdDate'] | date : \"shortDate\"}} </td>\n\t\t\t</tr>\n\t\t</table>\n\t\t<br />\n\t\t<canano-search-results-pager style=\"float: right;\" [totalCount]=searchResultsCount [startingPageLength]=pageLength></canano-search-results-pager>\n\t</div>\n</div>\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Consts } from 'src/app/constants';\n@Pipe({\n  name: 'searchpublicationresults'\n})\nexport class SearchpublicationresultsPipe implements PipeTransform {\n\n    transform(value: String, ...args: unknown[]): unknown {\n        let val = value;\n        if (val.indexOf('[DISCLAIMER]')>-1) {\n            val = val.replace('[DISCLAIMER].','');\n            val = val.replace('[DISCLAIMER]','');\n            val = val.replace(/(^[^\\/])/,\"/$1\");\n            return [val,true]\n        }\n        else {\n            val = val.replace(/(^[^\\/])/,\"/$1\");\n            return [val]\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SearchpublicationresultsComponent } from './searchpublicationresults.component';\nconst routes: Routes = [{ path: '', component: SearchpublicationresultsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SearchpublicationresultsRoutingModule { }\n"],"sourceRoot":"webpack:///"}