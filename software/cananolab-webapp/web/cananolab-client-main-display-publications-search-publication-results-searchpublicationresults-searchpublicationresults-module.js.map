{"version":3,"sources":["./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.module.ts","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.component.ts","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.component.html","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults.pipe.ts","./src/app/cananolab-client/main-display/publications/search-publication-results/searchpublicationresults/searchpublicationresults-routing.module.ts"],"names":[],"mappings":"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","file":"cananolab-client-main-display-publications-search-publication-results-searchpublicationresults-searchpublicationresults-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchpublicationresultsComponent } from './searchpublicationresults.component';\r\nimport { SearchpublicationresultsRoutingModule } from './searchpublicationresults-routing.module';\r\nimport { SharedModule } from '../../../../common/modules/set-object-value/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SearchpublicationresultsPipe } from './searchpublicationresults.pipe';\r\nimport { DisclaimerModule } from 'src/app/cananolab-client/common/components/disclaimer/disclaimer.module';\r\n\r\n\r\n@NgModule({\r\n    declarations: [SearchpublicationresultsComponent, SearchpublicationresultsPipe],\r\n    imports: [\r\n      CommonModule,\r\n      SearchpublicationresultsRoutingModule,\r\n      SharedModule,\r\n      FormsModule,\r\n      ReactiveFormsModule,\r\n      DisclaimerModule\r\n    ]\r\n  })\r\n  export class SearchpublicationresultsModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SearchPublicationService } from '../../search-publication/search-publication.service';\r\nimport { Properties } from '../../../../../../assets/properties';\r\nimport { SearchResultsPagerService } from '../../../../common/components/search-results-pager/search-results-pager.service';\r\nimport { takeUntil, timeout } from 'rxjs/operators';\r\nimport { Consts, SortState } from '../../../../../constants';\r\nimport { StatusDisplayService } from '../../../../status-display/status-display.service';\r\nimport { Subject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../../../../common/services/api.service';\r\nimport { timeoutWith } from 'rxjs/operators'\r\nimport { throwError } from 'rxjs'\r\n\r\n@Component({\r\n    selector: 'canano-searchpublicationresults',\r\n    templateUrl: './searchpublicationresults.component.html',\r\n    styleUrls: ['./searchpublicationresults.component.scss'],\r\n})\r\nexport class SearchpublicationresultsComponent implements OnInit {\r\n    maxPageLength = Properties.MAX_PAGE_LENGTH;\r\n    pageLength = Properties.DEFAULT_PAGE_LENGTH;\r\n    columnHeadings = [\r\n        { Actions: 'Actions' },\r\n        { displayName: 'Bibliography Info' },\r\n        { publicationType: 'Type' },\r\n        { researchAreas: 'Research Category' },\r\n        { sampleNames: 'Associated Sample Names' },\r\n        { descriptionDetail: 'Description' },\r\n        { status: 'Status' },\r\n        { createdDate: 'Created' }\r\n    ];\r\n    errors = {};\r\n    searchResults;\r\n    helpUrl = Consts.HELP_URL_SAMPLE_SEARCH;\r\n    toolHeadingNameSearchSample = 'Sample Search Results';\r\n    pageCount = 10;\r\n    searchResultsCount = -1;\r\n    currentPage = 0;\r\n    searchResultsPageToDisplay;\r\n\r\n    sortingStates = [\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT\r\n\r\n    ];\r\n\r\n    sortState = SortState;\r\n    properties = Properties;\r\n    userName;\r\n\r\n    private ngUnsubscribe: Subject<boolean> = new Subject<boolean>();\r\n\r\n    constructor(\r\n        private apiService: ApiService,\r\n        private router: Router,\r\n        private statusDisplayService: StatusDisplayService,\r\n        private searchResultsPagerService: SearchResultsPagerService,\r\n        private searchPublicationService: SearchPublicationService\r\n    ) {}\r\n\r\n    ngOnInit(): void {\r\n        this.searchResults =\r\n            this.searchPublicationService.getPublicationSearchResults();\r\n        this.searchResultsCount = this.searchResults.length;\r\n\r\n        this.searchResultsPagerService.currentPageChangeEmitter\r\n            .pipe(takeUntil(this.ngUnsubscribe))\r\n            .subscribe(\r\n                (data) => {\r\n                    this.currentPage = data;\r\n                    this.setupPage();\r\n                    this.errors = {};\r\n                },\r\n                (error) => {\r\n                    this.errors = error;\r\n                }\r\n            );\r\n\r\n        console.log(this.properties);\r\n        this.statusDisplayService.updateUserEmitter\r\n            .subscribe(\r\n                (data) => {\r\n                    this.errors = {};\r\n                    this.userName = data;\r\n                },\r\n                (error) => {\r\n                    this.errors = error;\r\n                }\r\n            );\r\n\r\n        this.searchResultsCount = this.searchResults.length;\r\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\r\n        this.onPageLengthChange();\r\n    }\r\n\r\n    navigateToPublication(publicationId) {\r\n        this.router.navigate([\r\n            '/home/samples/publications/publication',\r\n            publicationId,\r\n        ]);\r\n    }\r\n\r\n    addToFavorites(publication) {\r\n        let data = {\r\n            dataId: publication.id,\r\n            dataName: publication.title,\r\n            dataType: 'publication',\r\n            editable: publication.editable,\r\n            loginName: Properties.current_user,\r\n            pubmedId: publication.pubmedId,\r\n        };\r\n        this.errors = {};\r\n        this.apiService\r\n            .doPost('/rest/core/addFavorite', data)\r\n            .subscribe(\r\n                (data) => {\r\n                    publication['addedToFavorites']=data;\r\n                    console.log('added to favorites');\r\n                },\r\n                (error) => {\r\n                    this.errors = error;\r\n                }\r\n            );\r\n    }\r\n\r\n    onPageLengthChange() {\r\n        if (this.pageLength < 1) {\r\n            this.pageLength = 1;\r\n        }\r\n        if (this.pageLength > this.maxPageLength) {\r\n            this.pageLength = this.maxPageLength;\r\n        }\r\n\r\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\r\n        this.searchResultsPagerService.setPageCount(this.pageCount);\r\n        this.setupPage(); // Sets this page as the currently vied search results.\r\n    }\r\n\r\n    onSortClick(i, key) {\r\n        if (i) {\r\n            if (this.sortingStates[i]) {\r\n                // clicking on column that already is sorted on //\r\n                this.sortingStates[i] = this.sortingStates[i] == 1 ? 2 : 1;\r\n            } else {\r\n                // reset sorting states //\r\n                this.sortingStates.forEach((item, index) => {\r\n                    this.sortingStates[index] = 0;\r\n                });\r\n                this.sortingStates[i] = 1;\r\n            }\r\n            console.log(this.sortingStates)\r\n            if (this.sortingStates[i] == 1) {\r\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key]) > this.getStringValue(b[key]) ? 1 : -1));\r\n            } else {\r\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key]) < this.getStringValue(b[key]) ? 1 : -1));\r\n            }\r\n            this.setupPage();\r\n        }\r\n    }\r\n\r\n    getStringValue(val) {\r\n        if (val) {\r\n            return val.toString().toUpperCase()\r\n        }\r\n        return ''\r\n    }\r\n\r\n    setupPage() {\r\n        this.searchResultsPageToDisplay = this.searchResults.slice(\r\n            this.pageLength * this.currentPage,\r\n            this.pageLength * (this.currentPage + 1)\r\n        );\r\n    }\r\n}\r\n","<canano-main-display-heading [helpUrl]=\"'https://wiki.nci.nih.gov/display/caNanoLab/Managing+Publications+in+caNanoLab#ManagingPublicationsincaNanoLab-SearchPublications'\" [toolHeadingName]=\"'Publication Search Results'\"> </canano-main-display-heading>\r\n<div class=\"error\" *ngIf=\"errors['error']\"> {{errors['error']}} </div>\r\n<div class=\"mainSection\" *ngIf=\"searchResults\">\r\n\t<div *ngIf=\"!searchResults.length\" class=\"mainBorder\"> No search results found. </div>\r\n\t<div *ngIf=\"searchResults.length\"> <span class=\"ml-2\">\r\n            {{searchResults.length}} Item{{(searchResults.length > 1 ? 's' : '')}} found, displaying\r\n            {{(currentPage * pageLength) + 1}}\r\n            -{{ (((currentPage * pageLength) + pageLength) > searchResults.length) ? searchResults.length : (currentPage\r\n            * pageLength) + pageLength }}\r\n        </span>\r\n\t\t<canano-search-results-pager style=\"float: right;\" [totalCount]=searchResultsCount [startingPageLength]=pageLength></canano-search-results-pager> <span class=\"search-results-pager\">\r\n            <!-- Page length number setting  -->\r\n            <span class=\"ml-5\">\r\n                Show\r\n                <input class=\"number-spinner rows-per-page-spinner\" min=\"1\" max=\"{{maxPageLength}}\" type=\"number\"\r\n                    [(ngModel)]=\"pageLength\" (change)=\"onPageLengthChange()\">\r\n                entries\r\n            </span>\r\n\t\t<!-- Pager buttons -->\r\n\t\t</span>\r\n\t\t<br />\r\n\t\t<br />\r\n\t\t<table id=\"collapsible-table\" class=\"dataTable\">\r\n            <thead>\r\n\t\t\t<!-- -----  Header row  ----- -->\r\n\t\t\t<tr>\r\n                <ng-container *ngFor=\"let col of columnHeadings; let i = index\">\r\n                    <th *ngFor=\"let colKeyValue of col | keyvalue\" class=\"unselectable hand\"\r\n                        (click)=\"onSortClick(i, colKeyValue.key)\">\r\n                        <label for=\"sortClick\" class=\"hand\">\r\n                            {{ colKeyValue.value }}\r\n                            <span *ngIf=\"i > 0\" id=\"sortClick\" class=\"inline\">\r\n                                <span *ngIf=\"i > 0\" class=\"sortImages\" >\r\n                                    <span *ngIf=\"sortingStates[i] === sortState.NO_SORT\">\r\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\r\n                                        </svg>\r\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\r\n                                        </svg>\r\n                                    </span>\r\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_UP\" width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\r\n                                    </svg>\r\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_DOWN\"  width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\r\n                                    </svg>\r\n                                </span>\r\n                            </span>\r\n                        </label>\r\n                        <!-- No sorting for \"Actions\" column -->\r\n\r\n                        <!-- END Add sorting icons -->\r\n                    </th>\r\n                </ng-container>\r\n\t\t\t</tr>\r\n            </thead>\r\n\t\t\t<!-- -----  END Header row  ----- -->\r\n\t\t\t<tr *ngFor=\"let publication of searchResultsPageToDisplay; let even=even; let odd=odd; let i=index\" class=\"search-results-tr\" [ngClass]=\"{\r\n                        '': even,\r\n                        'rowOdd': odd\r\n                    }\">\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Actions\"> <a *ngIf=\"properties.LOGGED_IN\" (click)=\"navigateToPublication(publication['id'])\">Edit</a>\r\n\t\t\t\t\t<br>\r\n                    <div *ngIf=\"publication['addedToFavorites']\">\r\n                        {{publication['addedToFavorites'][0]}}\r\n                    </div>\r\n                    <a *ngIf=\"properties.LOGGED_IN&&!publication['addedToFavorites']\" (click)=\"addToFavorites(publication)\">Add to Favorites</a> </td>\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Bibliography Info\">\r\n                    <span [innerHtml]=\"(publication.displayName|searchpublicationresults)[0]\"></span>\r\n                    <canano-disclaimer [hide]=\"true\"></canano-disclaimer>\r\n                    <a *ngIf=\"(publication.displayName|searchpublicationresults).length>1\" class=\"underline\" data-toggle=\"modal\" data-target=\"#disclaimer\">\r\n                        <br />[Disclaimer]\r\n                    </a>\r\n\r\n                </td>\r\n\t\t\t\t<td class=\"search-results-td\" [innerHTML]=\"publication['publicationType']\" data-title=\"Type\"></td>\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Research Category\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li *ngFor=\"let researchArea of publication['researchAreas']\"> {{researchArea}} </li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Associated Sample Names\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li *ngFor=\"let sample of publication['sampleNames']\"> {{sample}} </li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Description\"> {{publication['descriptionDetail']}} </td>\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Status\"> {{publication.status}} </td>\r\n\t\t\t\t<td class=\"search-results-td\" data-title=\"Created\"> {{publication['createdDate'] | date : \"shortDate\"}} </td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t\t<br />\r\n\t\t<canano-search-results-pager style=\"float: right;\" [totalCount]=searchResultsCount [startingPageLength]=pageLength></canano-search-results-pager>\r\n\t</div>\r\n</div>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Consts } from 'src/app/constants';\r\n@Pipe({\r\n  name: 'searchpublicationresults'\r\n})\r\nexport class SearchpublicationresultsPipe implements PipeTransform {\r\n\r\n    transform(value: String, ...args: unknown[]): unknown {\r\n        let val = value;\r\n        if (val.indexOf('[DISCLAIMER]')>-1) {\r\n            val = val.replace('[DISCLAIMER].','');\r\n            val = val.replace('[DISCLAIMER]','');\r\n            val = val.replace(/(^[^\\/])/,\"/$1\");\r\n            return [val,true]\r\n        }\r\n        else {\r\n            val = val.replace(/(^[^\\/])/,\"/$1\");\r\n            return [val]\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SearchpublicationresultsComponent } from './searchpublicationresults.component';\r\nconst routes: Routes = [{ path: '', component: SearchpublicationresultsComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SearchpublicationresultsRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}