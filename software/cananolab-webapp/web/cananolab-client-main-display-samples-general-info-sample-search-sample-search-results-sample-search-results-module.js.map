{"version":3,"sources":["./src/app/cananolab-client/main-display/samples/general-info/sample-search/sample-search-results/sample-search-results.component.ts","./src/app/cananolab-client/main-display/samples/general-info/sample-search/sample-search-results/sample-search-results.component.html","./src/app/cananolab-client/main-display/samples/general-info/sample-search/sample-search-results/sample-search-results-routing.module.ts","./src/app/cananolab-client/main-display/samples/general-info/sample-search/sample-search-results/sample-search-results.module.ts"],"names":[],"mappings":"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","file":"cananolab-client-main-display-samples-general-info-sample-search-sample-search-results-sample-search-results-module.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { SampleSearchResultsService } from './sample-search-results.service';\r\nimport { Consts, ProtocolScreen, SortState } from '../../../../../../constants';\r\nimport { Properties } from '../../../../../../../assets/properties';\r\nimport { takeUntil, timeout } from 'rxjs/operators';\r\nimport { SearchResultsPagerService } from '../../../../../common/components/search-results-pager/search-results-pager.service';\r\nimport { Subject } from 'rxjs';\r\nimport { StatusDisplayService } from '../../../../../status-display/status-display.service';\r\nimport { ApiService } from '../../../../../common/services/api.service';\r\nimport { SampleAvailabilityDisplayService } from './sample-availability-display/sample-availability-display.service';\r\nimport { Router } from '@angular/router';\r\nimport { timeoutWith } from 'rxjs/operators'\r\nimport { throwError } from 'rxjs'\r\n\r\n@Component({\r\n    selector: 'canano-sample-search-results',\r\n    templateUrl: './sample-search-results.component.html',\r\n    styleUrls: ['./sample-search-results.component.scss'],\r\n})\r\nexport class SampleSearchResultsComponent implements OnInit, OnDestroy {\r\n    columnHeadings = [\r\n        { actions: 'Actions' },\r\n        { sampleName: 'Sample Name' },\r\n        { pointOfContact: 'Primary Point of Contact' },\r\n        { composition: 'Composition' },\r\n        { functions: 'Functions' },\r\n        { characterizations: 'Characterizations' },\r\n        { dataAvailability: 'Data Availability' },\r\n        { createdDate: 'Created' }\r\n    ];\r\n\r\n    maxPageLength = Properties.MAX_PAGE_LENGTH;\r\n    pageLength = Properties.DEFAULT_PAGE_LENGTH;\r\n    loading;\r\n    searchResults;\r\n    sampleIds=[];\r\n    helpUrl = Consts.HELP_URL_SAMPLE_SEARCH;\r\n    toolHeadingNameSearchSample = 'Sample Search Results';\r\n    pageCount = 10;\r\n    searchResultsCount = -1;\r\n    currentPage = 0;\r\n    searchResultsPageToDisplay;\r\n\r\n    sortingStates = [\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT\r\n    ];\r\n\r\n    sortState = SortState;\r\n    properties = Properties;\r\n    userName;\r\n\r\n    private ngUnsubscribe: Subject<boolean> = new Subject<boolean>();\r\n\r\n    constructor(\r\n        private sampleSearchResultsService: SampleSearchResultsService,\r\n        private searchResultsPagerService: SearchResultsPagerService,\r\n        private statusDisplayService: StatusDisplayService,\r\n        private apiService: ApiService,\r\n        private router: Router,\r\n        private sampleAvailabilityDisplayService: SampleAvailabilityDisplayService\r\n    ) {}\r\n\r\n    ngOnInit(): void {\r\n        setTimeout(()=> {\r\n            Properties.SAMPLE_TOOLS = false;\r\n        })\r\n        this.searchResults = this.sampleSearchResultsService.getSearchResults();\r\n        this.searchResultsCount = this.searchResults.length;\r\n        this.sampleIds=this.sampleSearchResultsService.getSampleIds();\r\n        this.searchResultsPagerService.currentPageChangeEmitter\r\n            .pipe(takeUntil(this.ngUnsubscribe))\r\n            .subscribe((data) => {\r\n                this.currentPage = data;\r\n                this.setupPage();\r\n            });\r\n\r\n        this.statusDisplayService.updateUserEmitter\r\n            .subscribe((data) => {\r\n                this.userName = data;\r\n            });\r\n\r\n        this.searchResultsCount = this.searchResults.length;\r\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\r\n        this.onPageLengthChange();\r\n    }\r\n\r\n    navigateToSampleEdit(sampleId) {\r\n        this.router.navigate(['home/samples/sample', sampleId]); // @FIXME  Don't hard code these\r\n    }\r\n\r\n    navigateToSampleView(sampleId, sampleName) {\r\n        this.router.navigate(['home/samples/view-sample', sampleId]); // @FIXME  Don't hard code these\r\n    }\r\n\r\n    addToFavorites(samp) {\r\n        console.log('addToFavorites samp: ', samp);\r\n        let favObj = { dataType: 'sample', loginName: this.userName}; // @FIXME User real user name\r\n        favObj['dataName'] = samp['sampleName'];\r\n        favObj['dataId'] = samp['sampleId'];\r\n        favObj['description'] = samp['nanoEntityDesc'];\r\n        favObj['editable'] = samp['editable'];\r\n        favObj['loginName']=Properties.current_user;\r\n\r\n        console.log('favObj:', favObj);\r\n\r\n        this.apiService.doPost(Consts.QUERY_ADD_FAVORITE, favObj).subscribe(\r\n            (data) => {\r\n                samp['addedToFavorites']=data;\r\n                console.log(samp)\r\n                // console.log('set Fave results: ', data);\r\n            },\r\n            (err) => {\r\n                console.log('ERROR QUERY_ADD_FAVORITE: ', err);\r\n            }\r\n        );\r\n    }\r\n\r\n    onAvailabilityClick(id) {\r\n        this.apiService\r\n            .doGet(Consts.QUERY_SAMPLE_VIEW_AVAILABILITY, 'sampleId=' + id)\r\n            .subscribe(\r\n                (data) => {\r\n                    this.sampleAvailabilityDisplayService.displayStuff(data);\r\n                },\r\n                (err) => {\r\n                    console.log('ERROR QUERY_SAMPLE_AVAILABILITY: ', err);\r\n                }\r\n            );\r\n    }\r\n\r\n\r\n    downloadReady(event) {\r\n        if (event==true) {\r\n            this.loading=null;\r\n        }\r\n        if (event==false) {\r\n            this.loading=true;\r\n        }\r\n    }\r\n\r\n    setupPage() {\r\n        this.searchResultsPageToDisplay = this.searchResults.slice(\r\n            this.pageLength * this.currentPage,\r\n            this.pageLength * (this.currentPage + 1)\r\n        );\r\n    }\r\n\r\n    onPageLengthChange() {\r\n        if (this.pageLength < 1) {\r\n            this.pageLength = 1;\r\n        }\r\n        if (this.pageLength > this.maxPageLength) {\r\n            this.pageLength = this.maxPageLength;\r\n        }\r\n\r\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\r\n        this.searchResultsPagerService.setPageCount(this.pageCount);\r\n        this.setupPage(); // Sets this page as the currently vied search results.\r\n    }\r\n\r\n    onSortClick(i, key) {\r\n        if (i) {\r\n            if (this.sortingStates[i]) {\r\n                // clicking on column that already is sorted on //\r\n                this.sortingStates[i] = this.sortingStates[i] == 1 ? 2 : 1;\r\n            } else {\r\n                // reset sorting states //\r\n                this.sortingStates.forEach((item, index) => {\r\n                    this.sortingStates[index] = 0;\r\n                });\r\n                this.sortingStates[i] = 1;\r\n            }\r\n            console.log(this.sortingStates)\r\n            if (this.sortingStates[i] == 1) {\r\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key]) > this.getStringValue(b[key]) ? 1 : -1));\r\n            } else {\r\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key]) < this.getStringValue(b[key]) ? 1 : -1));\r\n            }\r\n            this.setupPage();\r\n        }\r\n    }\r\n\r\n    getStringValue(val) {\r\n        if (val) {\r\n            return val.toString().toUpperCase()\r\n        }\r\n        return ''\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.ngUnsubscribe.next();\r\n        this.ngUnsubscribe.complete();\r\n    }\r\n}\r\n","<canano-main-display-heading [helpUrl]=\"helpUrl\" [toolHeadingName]=\"toolHeadingNameSearchSample\"\r\n[exportXML]=\"true\" [exportJSON]=\"true\" [sampleIds]=\"sampleIds\" (downloadReady)=\"downloadReady($event)\"  [backUrl]=\"'home/samples/sample-search'\">\r\n</canano-main-display-heading>\r\n\r\n<canano-sample-availability-display></canano-sample-availability-display>\r\n\r\n<div class=\"mainSection\" *ngIf=\"searchResults\">\r\n    <canano-loader [loading]=\"loading\" [message]=\"'Exporting Data'\">\r\n\r\n    </canano-loader>\r\n    <div *ngIf=\"!searchResults.length\" class=\"mainBorder\">\r\n        No search results found.\r\n    </div>\r\n\r\n    <div *ngIf=\"searchResults.length\">\r\n    <span class=\"ml-2\">\r\n        {{searchResults.length}} Item{{(searchResults.length > 1 ? 's' : '')}} found, displaying\r\n        {{(currentPage * pageLength) + 1}}\r\n        -{{ (((currentPage * pageLength) + pageLength) > searchResults.length) ? searchResults.length : (currentPage *\r\n        pageLength) + pageLength }}\r\n    </span>\r\n\r\n    <span class=\"search-results-pager\">\r\n        <!-- Page length number setting  -->\r\n        <span class=\"ml-5\">\r\n            Show\r\n            <input class=\"number-spinner rows-per-page-spinner\" min=\"1\" max=\"{{maxPageLength}}\" type=\"number\"\r\n                [(ngModel)]=\"pageLength\" (change)=\"onPageLengthChange()\">\r\n            entries\r\n        </span>\r\n\r\n        <!-- Pager buttons -->\r\n        <canano-search-results-pager style=\"float: right;\" [totalCount]=searchResultsCount\r\n            [startingPageLength]=pageLength></canano-search-results-pager>\r\n    </span>\r\n\r\n    <table class=\"dataTable\">\r\n        <!-- -----  Header row  ----- -->\r\n        <tr>\r\n            <ng-container *ngFor=\"let col of columnHeadings; let i = index\">\r\n                <th *ngFor=\"let colKeyValue of col | keyvalue\" class=\"unselectable hand\"\r\n                    (click)=\"onSortClick(i, colKeyValue.key)\">\r\n                    <label for=\"sortClick\" class=\"hand\">\r\n                        {{ colKeyValue.value }}\r\n                        <span *ngIf=\"i > 0\" id=\"sortClick\" class=\"inline\">\r\n                            <span *ngIf=\"i > 0\" class=\"sortImages\" >\r\n                                <span *ngIf=\"sortingStates[i] === sortState.NO_SORT\">\r\n                                    <svg width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\r\n                                    </svg>\r\n                                    <svg width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\r\n                                    </svg>\r\n                                </span>\r\n                                <svg *ngIf=\"sortingStates[i] === sortState.SORT_UP\" width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                    <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\r\n                                </svg>\r\n                                <svg *ngIf=\"sortingStates[i] === sortState.SORT_DOWN\"  width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                    <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\r\n                                </svg>\r\n                            </span>\r\n                        </span>\r\n                    </label>\r\n                    <!-- No sorting for \"Actions\" column -->\r\n\r\n                    <!-- END Add sorting icons -->\r\n                </th>\r\n            </ng-container>\r\n        </tr>\r\n        <!-- -----  END Header row  ----- -->\r\n\r\n\r\n        <tr *ngFor=\"let samp of searchResultsPageToDisplay; let even=even; let odd=odd; let i=index\"\r\n            class=\"search-results-tr\" [ngClass]=\"{\r\n                '': even,\r\n                'rowOdd': odd\r\n            }\">\r\n\r\n\r\n\r\n            <td class=\"search-results-td\">\r\n                <a *ngIf=\"properties.LOGGED_IN\" (click)=\"navigateToSampleEdit(samp['sampleId'])\">Edit</a>\r\n\r\n\r\n                <a *ngIf=\"! properties.LOGGED_IN\" (click)=\"navigateToSampleView(samp['sampleId'])\">View</a>\r\n                <br>\r\n                <div *ngIf=\"samp['addedToFavorites']\">\r\n                    {{samp['addedToFavorites'][0]}}\r\n                </div>\r\n                <a *ngIf=\"properties.LOGGED_IN&&!samp['addedToFavorites']\" (click)=\"addToFavorites( samp )\">Add to Favorites</a>\r\n\r\n            </td>\r\n\r\n            <td class=\"search-results-td\">{{samp['sampleName']}}</td>\r\n\r\n            <td class=\"sample-search-results-poc-td\" [innerHTML]=\"samp['pointOfContact']\"></td>\r\n            <td class=\"search-results-td\">\r\n                <span *ngIf=\"\r\n                samp['composition'] !== undefined &&\r\n                samp['composition'] !== null &&\r\n                samp['composition'][0] !== undefined &&\r\n                samp['composition'][0] !== null\">{{samp['composition'][0]}}\r\n                </span>\r\n            </td>\r\n\r\n            <td class=\"search-results-td\">\r\n                <div *ngFor=\"let func of samp['functions'] \">\r\n                    {{func}}\r\n                </div>\r\n            </td>\r\n\r\n            <td class=\"search-results-td\">\r\n                <div *ngFor=\"let char of samp['characterizations']; let i0 = index \">\r\n                    {{char}}\r\n                </div>\r\n            </td>\r\n\r\n            <td class=\"search-results-td\">\r\n                <!--\r\n            <a href=\"http://cent16:8090/rest/sample/viewDataAvailability?sampleId=25799936\"></a>\r\n-->\r\n                <span class=\"link-clicker\" (click)=\"onAvailabilityClick(samp['sampleId'])\">\r\n                    {{samp['dataAvailability']}}\r\n                </span>\r\n            </td>\r\n\r\n            <td class=\"search-results-td\">\r\n                {{samp['createdDate'] | date : \"shortDate\"}}\r\n            </td>\r\n\r\n        </tr>\r\n\r\n    </table><br />\r\n    <!-- Pager buttons -->\r\n    <canano-search-results-pager style=\"float: right; \" [totalCount]=searchResultsCount [startingPageLength]=pageLength>\r\n    </canano-search-results-pager>\r\n</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SampleSearchResultsComponent } from './sample-search-results.component';\r\nconst routes: Routes = [{ path: '', component: SampleSearchResultsComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SampleSearchResultsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SampleSearchResultsComponent } from './sample-search-results.component';\r\nimport { SampleSearchResultsRoutingModule } from './sample-search-results-routing.module';\r\nimport { SharedModule } from '../../../../../common/modules/set-object-value/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n    declarations: [SampleSearchResultsComponent],\r\n    imports: [\r\n      CommonModule,\r\n      SampleSearchResultsRoutingModule,\r\n      SharedModule,\r\n      FormsModule\r\n    ]\r\n  })\r\n  export class SampleSearchResultsModule { }\r\n"],"sourceRoot":"webpack:///"}