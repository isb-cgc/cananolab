{"version":3,"sources":["./src/app/cananolab-client/main-display/search-results/search-results/search-results-routing/search-results-routing.module.ts","./src/app/cananolab-client/main-display/search-results/search-results/search-results.component.ts","./src/app/cananolab-client/main-display/search-results/search-results/search-results.component.html","./src/app/cananolab-client/main-display/search-results/search-results/search-results.module.ts"],"names":[],"mappings":"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","file":"cananolab-client-main-display-search-results-search-results-search-results-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SearchResultsComponent } from '../search-results.component';\nconst routes: Routes = [{ path: '', component: SearchResultsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SearchResultsRoutingModule { }\n\n","import { Component, OnInit } from '@angular/core';\nimport { TopKeywordSearchService } from '../../../header/top-keyword-search/top-keyword-search.service';\nimport { Properties } from '../../../../../assets/properties';\nimport { Consts } from '../../../../constants';\nimport { SortState } from '../../../../constants';\nimport { Subject } from 'rxjs';\nimport { SearchResultsPagerService } from '../../../common/components/search-results-pager/search-results-pager.service';\nimport { takeUntil, timeout } from 'rxjs/operators';\nimport { StatusDisplayService } from '../../../status-display/status-display.service';\nimport { Router } from '@angular/router';\nimport { ApiService } from '../../../common/services/api.service';\nimport { timeoutWith } from 'rxjs/operators'\nimport { throwError } from 'rxjs'\n\n@Component({\n    selector: 'canano-search-results',\n    templateUrl: './search-results.component.html',\n    styleUrls: ['./search-results.component.scss'],\n})\nexport class SearchResultsComponent implements OnInit {\n    columnHeadings = [\n        { actions: 'Actions' },\n        { type: 'Type' },\n        { name: 'Name' },\n        { createdDate: 'Created Date' },\n        { description: 'Description' },\n    ];\n    currentPage = 0;\n    errors = {};\n    helpUrl = Consts.HELP_URL_SAMPLE_SEARCH;\n    maxPageLength = Properties.MAX_PAGE_LENGTH;\n    pageCount = 10;\n    pageLength = Properties.DEFAULT_PAGE_LENGTH;\n    properties = Properties;\n    searchResults;\n    searchResultsCount = -1;\n    searchResultsPageToDisplay;\n    sortingStates = [\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n        SortState.NO_SORT,\n    ];\n    sortState = SortState;\n    toolHeadingNameSearchSample = 'Sample Search Results';\n    userName;\n\n    private ngUnsubscribe: Subject<boolean> = new Subject<boolean>();\n    constructor(\n        private apiService: ApiService,\n        private router: Router,\n        private statusDisplayService: StatusDisplayService,\n        private searchResultsPagerService: SearchResultsPagerService,\n        private topKeywordSearchService: TopKeywordSearchService\n    ) {}\n\n    ngOnInit(): void {\n        this.searchResults = this.topKeywordSearchService.getKeywordResults();\n        this.searchResultsCount = this.searchResults.length;\n        this.searchResultsPagerService.currentPageChangeEmitter\n            .pipe(takeUntil(this.ngUnsubscribe))\n            .subscribe(\n                (data) => {\n                    this.currentPage = data;\n                    this.setupPage();\n                    this.errors = {};\n                },\n                (errors) => {\n                    this.errors = errors;\n                }\n            );\n        this.statusDisplayService.updateUserEmitter\n            .pipe(timeoutWith(Properties.HTTP_TIMEOUT, throwError(new Error(\"Didn't see user update!\"))))\n            .subscribe(\n                (data) => {\n                    this.userName = data;\n                    this.errors = {};\n                },\n                (error) => {\n                    this.errors = error;\n                    console.log('error');\n                }\n            );\n        this.searchResultsCount = this.searchResults.length;\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\n        this.onPageLengthChange();\n    }\n\n    addToFavorites(result) {\n        let data = {\n            dataId: result.id,\n            dataName: result.name,\n            dataType: result.type,\n            editable: result.editable,\n            loginName: Properties.current_user,\n        };\n\n        if (result.type == 'protocol') {\n            data['protocolFileId'] = result.fileId;\n            data['protocolFileTitle'] = result.fileTitle;\n        }\n        this.apiService.doPost(Consts.QUERY_ADD_FAVORITE, data).subscribe(\n            (data) => {\n                result['addedToFavorites']=data;\n                this.errors = {};\n            },\n            (error) => {\n                this.errors = error;\n            }\n        );\n    }\n\n    navigateToResultEdit(result) {\n        if (result.type == 'sample') {\n            this.router.navigate(['/home/samples/sample', result.id]);\n        }\n        if (result.type == 'publication') {\n            this.router.navigate([\n                '/home/samples/publications/publication',\n                result.id,\n            ]);\n        }\n        if (result.type == 'protocol') {\n            this.router.navigate(['/home/protocols/edit-protocol', result.id]);\n        }\n    }\n\n    navigateToResultView(result) {\n        if (result.type == 'sample') {\n            this.router.navigate(['/home/samples/view-sample', result.id]);\n        }\n        if (result.type == 'publication') {\n            console.log(result)\n        }\n        if (result.type == 'protocol') {\n            window.open(Consts.QUERY_DOWNLOAD_FILE+'?fileId='+result.fileId)\n        }\n    }\n\n    onPageLengthChange() {\n        if (this.pageLength < 1) {\n            this.pageLength = 1;\n        }\n        if (this.pageLength > this.maxPageLength) {\n            this.pageLength = this.maxPageLength;\n        }\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\n        this.searchResultsPagerService.setPageCount(this.pageCount);\n        this.setupPage();\n    }\n\n    onSortClick(i, key) {\n        if (i) {\n            if (this.sortingStates[i]) {\n                // clicking on column that already is sorted on //\n                this.sortingStates[i] = this.sortingStates[i] == 1 ? 2 : 1;\n            } else {\n                // reset sorting states //\n                this.sortingStates.forEach((item, index) => {\n                    this.sortingStates[index] = 0;\n                });\n                this.sortingStates[i] = 1;\n            }\n            console.log(this.sortingStates)\n            if (this.sortingStates[i] == 1) {\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key],key) > this.getStringValue(b[key],key) ? 1 : -1));\n            } else {\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key],key) < this.getStringValue(b[key],key) ? 1 : -1));\n            }\n            this.setupPage();\n        }\n    }\n\n    getStringValue(value,key) {\n        if (value) {\n            if (key=='createdDate') { // first convert the date string to integer //\n                value=new Date(value).getTime();\n            }\n            return value.toString().toUpperCase()\n        }\n        return ''\n    }\n\n    setupPage() {\n        this.searchResultsPageToDisplay = this.searchResults.slice(\n            this.pageLength * this.currentPage,\n            this.pageLength * (this.currentPage + 1)\n        );\n    }\n}\n","<canano-main-display-heading [helpUrl]=\"\n        'https://wiki.nci.nih.gov/display/caNanoLab/Managing+Publications+in+caNanoLab#ManagingPublicationsincaNanoLab-SearchPublications'\n    \" [toolHeadingName]=\"'Search Results'\">\n</canano-main-display-heading>\n\n<div class=\"mainSection\" *ngIf=\"searchResults\">\n    <div class=\"error\" *ngIf=\"errors['error']\">\n        {{ errors[\"error\"] }}\n    </div>\n    <div *ngIf=\"!searchResults.length\" class=\"mainBorder\">\n        No search results found.\n    </div>\n    <div *ngIf=\"searchResults.length\">\n        <span class=\"ml-2\">\n            {{ searchResults.length }} Item{{\n            searchResults.length > 1 ? \"s\" : \"\"\n            }}\n            found, displaying\n            {{ currentPage * pageLength + 1 }}\n            -{{\n            currentPage * pageLength + pageLength > searchResults.length\n            ? searchResults.length\n            : currentPage * pageLength + pageLength\n            }}\n        </span>\n        <canano-search-results-pager style=\"float: right\" [totalCount]=\"searchResultsCount\"\n            [startingPageLength]=\"pageLength\">\n        </canano-search-results-pager>\n        <span class=\"search-results-pager\">\n            <!-- Page length number setting  -->\n            <span class=\"ml-5\">\n                Show\n                <input class=\"number-spinner rows-per-page-spinner\" min=\"1\" max=\"{{ maxPageLength }}\" type=\"number\"\n                    [(ngModel)]=\"pageLength\" (change)=\"onPageLengthChange()\" />\n                entries\n            </span>\n\n            <!-- Pager buttons -->\n        </span><br /><br />\n        <table id=\"collapsible-table\" class=\"dataTable\">\n            <!-- -----  Header row  ----- -->\n            <tr>\n                <ng-container *ngFor=\"let col of columnHeadings; let i = index\">\n                    <th *ngFor=\"let colKeyValue of col | keyvalue\" class=\"unselectable hand\"\n                        (click)=\"onSortClick(i, colKeyValue.key)\">\n                        <label for=\"sortClick\" class=\"hand\">\n                            {{ colKeyValue.value }}\n                            <span *ngIf=\"i > 0\" id=\"sortClick\" class=\"inline\">\n                                <span *ngIf=\"i > 0\" class=\"sortImages\" >\n                                    <span *ngIf=\"sortingStates[i] === sortState.NO_SORT\">\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\n                                        </svg>\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\n                                        </svg>\n                                    </span>\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_UP\" width=\"10\" height=\"10\" fill=\"currentColor\">\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\n                                    </svg>\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_DOWN\"  width=\"10\" height=\"10\" fill=\"currentColor\">\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\n                                    </svg>\n                                </span>\n                            </span>\n                        </label>\n                        <!-- No sorting for \"Actions\" column -->\n\n                        <!-- END Add sorting icons -->\n                    </th>\n                </ng-container>\n            </tr>\n            <!-- -----  END Header row  ----- -->\n\n            <tr *ngFor=\"\n                    let result of searchResultsPageToDisplay;\n                    let even = even;\n                    let odd = odd;\n                    let i = index\n                \" class=\"search-results-tr\" [ngClass]=\"{\n                    '': even,\n                    rowOdd: odd\n                }\">\n                <td class=\"search-results-td\" data-title=\"Action\">\n                    <a *ngIf=\"properties.LOGGED_IN\" (click)=\"navigateToResultEdit(result)\">Edit</a>\n\n                    <ng-container *ngIf=\"!properties.LOGGED_IN\">\n                        <a *ngIf=\"result.type == 'protocol' && result.fileId\" (click)=\"navigateToResultView(result)\">\n                            View\n                        </a>\n                        <a *ngIf=\"result.type == 'sample'\" (click)=\"navigateToResultView(result)\">\n                            View\n                        </a>\n                    </ng-container>\n                    <br />\n                    <div *ngIf=\"result['addedToFavorites']\">\n                        {{result['addedToFavorites'][0]}}\n                    </div>\n                    <a *ngIf=\"properties.LOGGED_IN&&!result['addedToFavorites']\" (click)=\"addToFavorites(result)\">Add to Favorites</a>\n                </td>\n\n                <td class=\"search-results-td\" data-title=\"Type\">{{ result.type }}</td>\n\n                <td class=\"search-results-td\" data-title=\"Name\">\n                    {{ result.name }}\n                </td>\n\n                <td class=\"search-results-td\" data-title=\"Created Date\">\n                    {{ result[\"createdDate\"] | date: \"shortDate\" }}\n                </td>\n                <td class=\"search-results-td\" data-title=\"Description\">\n                    {{ result.description }}\n                </td>\n            </tr>\n        </table>\n        <br />\n        <canano-search-results-pager style=\"float: right\" [totalCount]=\"searchResultsCount\"\n            [startingPageLength]=\"pageLength\">\n        </canano-search-results-pager>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SearchResultsComponent } from './search-results.component';\nimport { SearchResultsRoutingModule } from './search-results-routing/search-results-routing.module';\nimport { SharedModule } from '../../../common/modules/set-object-value/shared.module';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n@NgModule({\n    declarations: [SearchResultsComponent],\n    imports: [\n      CommonModule,\n      SearchResultsRoutingModule,\n      SharedModule,\n      FormsModule,\n      ReactiveFormsModule,\n    ]\n  })\n  export class SearchResultsModule { }\n"],"sourceRoot":"webpack:///"}