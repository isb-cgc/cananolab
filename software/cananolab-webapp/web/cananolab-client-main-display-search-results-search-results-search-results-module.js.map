{"version":3,"sources":["./src/app/cananolab-client/main-display/search-results/search-results/search-results-routing/search-results-routing.module.ts","./src/app/cananolab-client/main-display/search-results/search-results/search-results.component.ts","./src/app/cananolab-client/main-display/search-results/search-results/search-results.component.html","./src/app/cananolab-client/main-display/search-results/search-results/search-results.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACc;;;AACrE,MAAM,MAAM,GAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,gFAAsB,EAAE,CAAC,CAAC;AAMlE,MAAM,0BAA0B;;oGAA1B,0BAA0B;yGAA1B,0BAA0B;6GAH5B,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEX,0BAA0B,uFAF3B,4DAAY;kIAEX,0BAA0B;cAJtC,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAEY;AACf;AACG;AACnB;AAEqB;;;;;;;;;;;;ICDhD,yEAA2C;IACvC,uDACJ;IAAA,4DAAM;;;IADF,0DACJ;IADI,kGACJ;;;IACA,yEAAsD;IAClD,qFACJ;IAAA,4DAAM;;;IAsC0B,uEAAqD;IACjD,8DAAgD;IAAhD,0EAAgD;IAC5C,qEAAoE;IACxE,4DAAM;IACN,0EAAgD;IAC5C,qEAAsE;IAC1E,4DAAM;IACV,4DAAO;;;IACP,8DAA+F;IAA/F,0EAA+F;IAC3F,qEAAoE;IACxE,4DAAM;;;IACN,8DAAkG;IAAlG,0EAAkG;IAC9F,qEAAsE;IAC1E,4DAAM;;;IAdV,2EAAwC;IACpC,mKAOO;IACP,uKAEM;IACN,uKAEM;IACV,4DAAO;;;;IAdI,0DAA4C;IAA5C,2HAA4C;IAQ7C,0DAA4C;IAA5C,2HAA4C;IAG5C,0DAA8C;IAA9C,6HAA8C;;;IAb5D,2EAAkD;IAC9C,6JAeO;IACX,4DAAO;;;IAhBI,0DAAW;IAAX,0EAAW;;;;IAL9B,yEAC8C;IAA1C,ueAAyC;IACzC,4EAAoC;IAChC,uDACA;IAAA,sJAiBO;IACX,4DAAQ;IAIZ,4DAAK;;;;IAvBG,0DACA;IADA,gGACA;IAAO,0DAAW;IAAX,0EAAW;;;IAL9B,wEAAgE;IAC5D,6IA0BK;;IACT,qEAAe;;;IA3BiB,0DAAiB;IAAjB,4IAAiB;;;;IAyC7C,wEAAuE;IAAvC,0bAAsC;IAAC,+DAAI;IAAA,4DAAI;;;;IAG3E,wEAA6F;IAAvC,0cAAsC;IACxF,iEACJ;IAAA,4DAAI;;;;IACJ,wEAA0E;IAAvC,0cAAsC;IACrE,iEACJ;IAAA,4DAAI;;;IANR,wEAA4C;IACxC,gJAEI;IACJ,gJAEI;IACR,qEAAe;;;IANP,0DAAgD;IAAhD,oHAAgD;IAGhD,0DAA6B;IAA7B,6FAA6B;;;IAKrC,sEAAwC;IACpC,uDACJ;IAAA,4DAAM;;;IADF,0DACJ;IADI,6GACJ;;;;IACA,wEAA8F;IAAjC,obAAgC;IAAC,2EAAgB;IAAA,4DAAI;;;;IAxB1H,yEAQO;IACH,yEAAkD;IAC9C,iIAA+E;IAE/E,sJAOe;IACf,gEAAM;IACN,oIAEM;IACN,iIAAkH;IACtH,4DAAK;IAEL,yEAAgD;IAAA,uDAAiB;IAAA,4DAAK;IAEtE,yEAAgD;IAC5C,wDACJ;IAAA,4DAAK;IAEL,0EAAwD;IACpD,wDACJ;;IAAA,4DAAK;IACL,0EAAuD;IACnD,wDACJ;IAAA,4DAAK;IACT,4DAAK;;;;;;IAlC2B,8JAG1B;IAEM,0DAA0B;IAA1B,6FAA0B;IAEf,0DAA2B;IAA3B,8FAA2B;IASpC,0DAAgC;IAAhC,gGAAgC;IAGlC,0DAAuD;IAAvD,gIAAuD;IAGf,0DAAiB;IAAjB,gFAAiB;IAG7D,0DACJ;IADI,2FACJ;IAGI,0DACJ;IADI,oLACJ;IAEI,0DACJ;IADI,kGACJ;;;;IApGZ,sEAAkC;IAC9B,0EAAmB;IACf,uDAUJ;IAAA,4DAAO;IACP,4FAE8B;IAC9B,2EAAmC;IAE/B,2EAAmB;IACf,iEACA;IAAA,4EAC+D;IAA3D,iWAAwB;IAD5B,4DAC+D;IAC/D,oEACJ;IAAA,4DAAO;IAGX,4DAAO;IAAA,gEAAM;IAAA,iEAAM;IACnB,6EAAgD;IAE5C,sEAAI;IACA,mJA4Be;IACnB,4DAAK;IAGL,iIAuCK;IACT,4DAAQ;IACR,iEAAM;IACN,6FAE8B;IAClC,4DAAM;;;IAzGE,0DAUJ;IAVI,0ZAUJ;IACkD,0DAAiC;IAAjC,iGAAiC;IAOf,0DAAyB;IAAzB,gGAAyB;IACjF,sFAAwB;IASE,0DAAmB;IAAnB,0FAAmB;IAiCb,0DAElD;IAFkD,sGAElD;IAuCwD,0DAAiC;IAAjC,iGAAiC;;;IA/G3F,yEAA+C;IAC3C,wHAEM;IACN,wHAEM;IACN,0HA2GM;IACV,4DAAM;;;IAlHkB,0DAAqB;IAArB,wFAAqB;IAGnC,0DAA2B;IAA3B,8FAA2B;IAG3B,0DAA0B;IAA1B,6FAA0B;;ADO7B,MAAM,sBAAsB;IA8B/B,YACY,UAAsB,EACtB,MAAc,EACd,oBAA0C,EAC1C,yBAAoD,EACpD,uBAAgD;QAJhD,eAAU,GAAV,UAAU,CAAY;QACtB,WAAM,GAAN,MAAM,CAAQ;QACd,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,8BAAyB,GAAzB,yBAAyB,CAA2B;QACpD,4BAAuB,GAAvB,uBAAuB,CAAyB;QAlC5D,mBAAc,GAAG;YACb,EAAE,OAAO,EAAE,SAAS,EAAE;YACtB,EAAE,IAAI,EAAE,MAAM,EAAE;YAChB,EAAE,IAAI,EAAE,MAAM,EAAE;YAChB,EAAE,WAAW,EAAE,cAAc,EAAE;YAC/B,EAAE,WAAW,EAAE,aAAa,EAAE;SACjC,CAAC;QACF,gBAAW,GAAG,CAAC,CAAC;QAChB,WAAM,GAAG,EAAE,CAAC;QACZ,YAAO,GAAG,iDAAM,CAAC,sBAAsB,CAAC;QACxC,kBAAa,GAAG,6DAAU,CAAC,eAAe,CAAC;QAC3C,cAAS,GAAG,EAAE,CAAC;QACf,eAAU,GAAG,6DAAU,CAAC,mBAAmB,CAAC;QAC5C,eAAU,GAAG,6DAAU,CAAC;QAExB,uBAAkB,GAAG,CAAC,CAAC,CAAC;QAExB,kBAAa,GAAG;YACZ,oDAAS,CAAC,OAAO;YACjB,oDAAS,CAAC,OAAO;YACjB,oDAAS,CAAC,OAAO;YACjB,oDAAS,CAAC,OAAO;YACjB,oDAAS,CAAC,OAAO;SACpB,CAAC;QACF,cAAS,GAAG,oDAAS,CAAC;QACtB,gCAA2B,GAAG,uBAAuB,CAAC;QAG9C,kBAAa,GAAqB,IAAI,4CAAO,EAAW,CAAC;IAO9D,CAAC;IAEJ,QAAQ;QACJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,CAAC;QACtE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QACpD,IAAI,CAAC,yBAAyB,CAAC,wBAAwB;aAClD,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACnC,SAAS,CACN,CAAC,IAAI,EAAE,EAAE;YACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACrB,CAAC,EACD,CAAC,MAAM,EAAE,EAAE;YACP,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACzB,CAAC,CACJ,CAAC;QACN,IAAI,CAAC,oBAAoB,CAAC,iBAAiB;aACtC,SAAS,CACN,CAAC,IAAI,EAAE,EAAE;YACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACrB,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACN,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACzB,CAAC,CACJ,CAAC;QACN,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACtE,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IAED,cAAc,CAAC,MAAM;QACjB,IAAI,IAAI,GAAG;YACP,MAAM,EAAE,MAAM,CAAC,EAAE;YACjB,QAAQ,EAAE,MAAM,CAAC,IAAI;YACrB,QAAQ,EAAE,MAAM,CAAC,IAAI;YACrB,QAAQ,EAAE,MAAM,CAAC,QAAQ;YACzB,SAAS,EAAE,6DAAU,CAAC,YAAY;SACrC,CAAC;QAEF,IAAI,MAAM,CAAC,IAAI,IAAI,UAAU,EAAE;YAC3B,IAAI,CAAC,gBAAgB,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;YACvC,IAAI,CAAC,mBAAmB,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC;SAChD;QACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,iDAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC,SAAS,CAC7D,CAAC,IAAI,EAAE,EAAE;YACL,MAAM,CAAC,kBAAkB,CAAC,GAAC,IAAI,CAAC;YAChC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACrB,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACN,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxB,CAAC,CACJ,CAAC;IACN,CAAC;IAED,oBAAoB,CAAC,MAAM;QACvB,IAAI,MAAM,CAAC,IAAI,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,sBAAsB,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;SAC7D;QACD,IAAI,MAAM,CAAC,IAAI,IAAI,aAAa,EAAE;YAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACjB,wCAAwC;gBACxC,MAAM,CAAC,EAAE;aACZ,CAAC,CAAC;SACN;QACD,IAAI,MAAM,CAAC,IAAI,IAAI,UAAU,EAAE;YAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,+BAA+B,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;SACtE;IACL,CAAC;IAED,oBAAoB,CAAC,MAAM;QACvB,IAAI,MAAM,CAAC,IAAI,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,2BAA2B,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;SAClE;QACD,IAAI,MAAM,CAAC,IAAI,IAAI,aAAa,EAAE;YAC9B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;SACtB;QACD,IAAI,MAAM,CAAC,IAAI,IAAI,UAAU,EAAE;YAC3B,MAAM,CAAC,IAAI,CAAC,iDAAM,CAAC,mBAAmB,GAAC,UAAU,GAAC,MAAM,CAAC,MAAM,CAAC;SACnE;IACL,CAAC;IAED,kBAAkB;QACd,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;YACrB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE;YACtC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC;SACxC;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACtE,IAAI,CAAC,yBAAyB,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5D,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,CAAC,EAAE,GAAG;QACd,IAAI,CAAC,EAAE;YACH,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;gBACvB,kDAAkD;gBAClD,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9D;iBAAM;gBACH,0BAA0B;gBAC1B,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;oBACvC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;aAC7B;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;YAC/B,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBAC5B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACnH;iBAAM;gBACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACnH;YACD,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;IACL,CAAC;IAED,cAAc,CAAC,KAAK,EAAC,GAAG;QACpB,IAAI,KAAK,EAAE;YACP,IAAI,GAAG,IAAE,aAAa,EAAE,EAAE,8CAA8C;gBACpE,KAAK,GAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;aACnC;YACD,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE;SACxC;QACD,OAAO,EAAE;IACb,CAAC;IAED,SAAS;QACL,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,EAClC,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAC3C,CAAC;IACN,CAAC;;4FAzKQ,sBAAsB;sGAAtB,sBAAsB;QCnBnC,4FAG8B;QAE9B,kHAmHM;;QAxHuB,uMAExB;QAGqB,0DAAmB;QAAnB,mFAAmB;;kIDchC,sBAAsB;cALlC,uDAAS;eAAC;gBACP,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,iCAAiC;gBAC9C,SAAS,EAAE,CAAC,iCAAiC,CAAC;aACjD;;;;;;;;;;;;;;AElBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACqB;AACgC;AACd;AAEpB;;AAWzD,MAAM,mBAAmB;;sFAAnB,mBAAmB;kGAAnB,mBAAmB;sGARrB;YACP,4DAAY;YACZ,gHAA0B;YAC1B,2FAAY;YACZ,0DAAW;YACX,kEAAmB;SACpB;mIAEU,mBAAmB,mBATf,gFAAsB,aAEnC,4DAAY;QACZ,gHAA0B;QAC1B,2FAAY;QACZ,0DAAW;QACX,kEAAmB;kIAGV,mBAAmB;cAVjC,sDAAQ;eAAC;gBACN,YAAY,EAAE,CAAC,gFAAsB,CAAC;gBACtC,OAAO,EAAE;oBACP,4DAAY;oBACZ,gHAA0B;oBAC1B,2FAAY;oBACZ,0DAAW;oBACX,kEAAmB;iBACpB;aACF","file":"cananolab-client-main-display-search-results-search-results-search-results-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SearchResultsComponent } from '../search-results.component';\r\nconst routes: Routes = [{ path: '', component: SearchResultsComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SearchResultsRoutingModule { }\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TopKeywordSearchService } from '../../../header/top-keyword-search/top-keyword-search.service';\r\nimport { Properties } from '../../../../../assets/properties';\r\nimport { Consts } from '../../../../constants';\r\nimport { SortState } from '../../../../constants';\r\nimport { Subject } from 'rxjs';\r\nimport { SearchResultsPagerService } from '../../../common/components/search-results-pager/search-results-pager.service';\r\nimport { takeUntil, timeout } from 'rxjs/operators';\r\nimport { StatusDisplayService } from '../../../status-display/status-display.service';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../../../common/services/api.service';\r\nimport { timeoutWith } from 'rxjs/operators'\r\nimport { throwError } from 'rxjs'\r\n\r\n@Component({\r\n    selector: 'canano-search-results',\r\n    templateUrl: './search-results.component.html',\r\n    styleUrls: ['./search-results.component.scss'],\r\n})\r\nexport class SearchResultsComponent implements OnInit {\r\n    columnHeadings = [\r\n        { actions: 'Actions' },\r\n        { type: 'Type' },\r\n        { name: 'Name' },\r\n        { createdDate: 'Created Date' },\r\n        { description: 'Description' },\r\n    ];\r\n    currentPage = 0;\r\n    errors = {};\r\n    helpUrl = Consts.HELP_URL_SAMPLE_SEARCH;\r\n    maxPageLength = Properties.MAX_PAGE_LENGTH;\r\n    pageCount = 10;\r\n    pageLength = Properties.DEFAULT_PAGE_LENGTH;\r\n    properties = Properties;\r\n    searchResults;\r\n    searchResultsCount = -1;\r\n    searchResultsPageToDisplay;\r\n    sortingStates = [\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n        SortState.NO_SORT,\r\n    ];\r\n    sortState = SortState;\r\n    toolHeadingNameSearchSample = 'Sample Search Results';\r\n    userName;\r\n\r\n    private ngUnsubscribe: Subject<boolean> = new Subject<boolean>();\r\n    constructor(\r\n        private apiService: ApiService,\r\n        private router: Router,\r\n        private statusDisplayService: StatusDisplayService,\r\n        private searchResultsPagerService: SearchResultsPagerService,\r\n        private topKeywordSearchService: TopKeywordSearchService\r\n    ) {}\r\n\r\n    ngOnInit(): void {\r\n        this.searchResults = this.topKeywordSearchService.getKeywordResults();\r\n        this.searchResultsCount = this.searchResults.length;\r\n        this.searchResultsPagerService.currentPageChangeEmitter\r\n            .pipe(takeUntil(this.ngUnsubscribe))\r\n            .subscribe(\r\n                (data) => {\r\n                    this.currentPage = data;\r\n                    this.setupPage();\r\n                    this.errors = {};\r\n                },\r\n                (errors) => {\r\n                    this.errors = errors;\r\n                }\r\n            );\r\n        this.statusDisplayService.updateUserEmitter\r\n            .subscribe(\r\n                (data) => {\r\n                    this.userName = data;\r\n                    this.errors = {};\r\n                },\r\n                (error) => {\r\n                    this.errors = error;\r\n                    console.log('error');\r\n                }\r\n            );\r\n        this.searchResultsCount = this.searchResults.length;\r\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\r\n        this.onPageLengthChange();\r\n    }\r\n\r\n    addToFavorites(result) {\r\n        let data = {\r\n            dataId: result.id,\r\n            dataName: result.name,\r\n            dataType: result.type,\r\n            editable: result.editable,\r\n            loginName: Properties.current_user,\r\n        };\r\n\r\n        if (result.type == 'protocol') {\r\n            data['protocolFileId'] = result.fileId;\r\n            data['protocolFileTitle'] = result.fileTitle;\r\n        }\r\n        this.apiService.doPost(Consts.QUERY_ADD_FAVORITE, data).subscribe(\r\n            (data) => {\r\n                result['addedToFavorites']=data;\r\n                this.errors = {};\r\n            },\r\n            (error) => {\r\n                this.errors = error;\r\n            }\r\n        );\r\n    }\r\n\r\n    navigateToResultEdit(result) {\r\n        if (result.type == 'sample') {\r\n            this.router.navigate(['/home/samples/sample', result.id]);\r\n        }\r\n        if (result.type == 'publication') {\r\n            this.router.navigate([\r\n                '/home/samples/publications/publication',\r\n                result.id,\r\n            ]);\r\n        }\r\n        if (result.type == 'protocol') {\r\n            this.router.navigate(['/home/protocols/edit-protocol', result.id]);\r\n        }\r\n    }\r\n\r\n    navigateToResultView(result) {\r\n        if (result.type == 'sample') {\r\n            this.router.navigate(['/home/samples/view-sample', result.id]);\r\n        }\r\n        if (result.type == 'publication') {\r\n            console.log(result)\r\n        }\r\n        if (result.type == 'protocol') {\r\n            window.open(Consts.QUERY_DOWNLOAD_FILE+'?fileId='+result.fileId)\r\n        }\r\n    }\r\n\r\n    onPageLengthChange() {\r\n        if (this.pageLength < 1) {\r\n            this.pageLength = 1;\r\n        }\r\n        if (this.pageLength > this.maxPageLength) {\r\n            this.pageLength = this.maxPageLength;\r\n        }\r\n        this.pageCount = Math.ceil(this.searchResultsCount / this.pageLength);\r\n        this.searchResultsPagerService.setPageCount(this.pageCount);\r\n        this.setupPage();\r\n    }\r\n\r\n    onSortClick(i, key) {\r\n        if (i) {\r\n            if (this.sortingStates[i]) {\r\n                // clicking on column that already is sorted on //\r\n                this.sortingStates[i] = this.sortingStates[i] == 1 ? 2 : 1;\r\n            } else {\r\n                // reset sorting states //\r\n                this.sortingStates.forEach((item, index) => {\r\n                    this.sortingStates[index] = 0;\r\n                });\r\n                this.sortingStates[i] = 1;\r\n            }\r\n            console.log(this.sortingStates)\r\n            if (this.sortingStates[i] == 1) {\r\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key],key) > this.getStringValue(b[key],key) ? 1 : -1));\r\n            } else {\r\n                this.searchResults.sort((a, b) => (this.getStringValue(a[key],key) < this.getStringValue(b[key],key) ? 1 : -1));\r\n            }\r\n            this.setupPage();\r\n        }\r\n    }\r\n\r\n    getStringValue(value,key) {\r\n        if (value) {\r\n            if (key=='createdDate') { // first convert the date string to integer //\r\n                value=new Date(value).getTime();\r\n            }\r\n            return value.toString().toUpperCase()\r\n        }\r\n        return ''\r\n    }\r\n\r\n    setupPage() {\r\n        this.searchResultsPageToDisplay = this.searchResults.slice(\r\n            this.pageLength * this.currentPage,\r\n            this.pageLength * (this.currentPage + 1)\r\n        );\r\n    }\r\n}\r\n","<canano-main-display-heading [helpUrl]=\"\r\n        'https://wiki.nci.nih.gov/display/caNanoLab/Managing+Publications+in+caNanoLab#ManagingPublicationsincaNanoLab-SearchPublications'\r\n    \" [toolHeadingName]=\"'Search Results'\">\r\n</canano-main-display-heading>\r\n\r\n<div class=\"mainSection\" *ngIf=\"searchResults\">\r\n    <div class=\"error\" *ngIf=\"errors['error']\">\r\n        {{ errors[\"error\"] }}\r\n    </div>\r\n    <div *ngIf=\"!searchResults.length\" class=\"mainBorder\">\r\n        No search results found.\r\n    </div>\r\n    <div *ngIf=\"searchResults.length\">\r\n        <span class=\"ml-2\">\r\n            {{ searchResults.length }} Item{{\r\n            searchResults.length > 1 ? \"s\" : \"\"\r\n            }}\r\n            found, displaying\r\n            {{ currentPage * pageLength + 1 }}\r\n            -{{\r\n            currentPage * pageLength + pageLength > searchResults.length\r\n            ? searchResults.length\r\n            : currentPage * pageLength + pageLength\r\n            }}\r\n        </span>\r\n        <canano-search-results-pager style=\"float: right\" [totalCount]=\"searchResultsCount\"\r\n            [startingPageLength]=\"pageLength\">\r\n        </canano-search-results-pager>\r\n        <span class=\"search-results-pager\">\r\n            <!-- Page length number setting  -->\r\n            <span class=\"ml-5\">\r\n                Show\r\n                <input class=\"number-spinner rows-per-page-spinner\" min=\"1\" max=\"{{ maxPageLength }}\" type=\"number\"\r\n                    [(ngModel)]=\"pageLength\" (change)=\"onPageLengthChange()\" />\r\n                entries\r\n            </span>\r\n\r\n            <!-- Pager buttons -->\r\n        </span><br /><br />\r\n        <table id=\"collapsible-table\" class=\"dataTable\">\r\n            <!-- -----  Header row  ----- -->\r\n            <tr>\r\n                <ng-container *ngFor=\"let col of columnHeadings; let i = index\">\r\n                    <th *ngFor=\"let colKeyValue of col | keyvalue\" class=\"unselectable hand\"\r\n                        (click)=\"onSortClick(i, colKeyValue.key)\">\r\n                        <label for=\"sortClick\" class=\"hand\">\r\n                            {{ colKeyValue.value }}\r\n                            <span *ngIf=\"i > 0\" id=\"sortClick\" class=\"inline\">\r\n                                <span *ngIf=\"i > 0\" class=\"sortImages\" >\r\n                                    <span *ngIf=\"sortingStates[i] === sortState.NO_SORT\">\r\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\r\n                                        </svg>\r\n                                        <svg width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                            <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\r\n                                        </svg>\r\n                                    </span>\r\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_UP\" width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-up-fill\" />\r\n                                    </svg>\r\n                                    <svg *ngIf=\"sortingStates[i] === sortState.SORT_DOWN\"  width=\"10\" height=\"10\" fill=\"currentColor\">\r\n                                        <use xlink:href=\"assets/images/bootstrap-icons.svg#caret-down-fill\" />\r\n                                    </svg>\r\n                                </span>\r\n                            </span>\r\n                        </label>\r\n                        <!-- No sorting for \"Actions\" column -->\r\n\r\n                        <!-- END Add sorting icons -->\r\n                    </th>\r\n                </ng-container>\r\n            </tr>\r\n            <!-- -----  END Header row  ----- -->\r\n\r\n            <tr *ngFor=\"\r\n                    let result of searchResultsPageToDisplay;\r\n                    let even = even;\r\n                    let odd = odd;\r\n                    let i = index\r\n                \" class=\"search-results-tr\" [ngClass]=\"{\r\n                    '': even,\r\n                    rowOdd: odd\r\n                }\">\r\n                <td class=\"search-results-td\" data-title=\"Action\">\r\n                    <a *ngIf=\"properties.LOGGED_IN\" (click)=\"navigateToResultEdit(result)\">Edit</a>\r\n\r\n                    <ng-container *ngIf=\"!properties.LOGGED_IN\">\r\n                        <a *ngIf=\"result.type == 'protocol' && result.fileId\" (click)=\"navigateToResultView(result)\">\r\n                            View\r\n                        </a>\r\n                        <a *ngIf=\"result.type == 'sample'\" (click)=\"navigateToResultView(result)\">\r\n                            View\r\n                        </a>\r\n                    </ng-container>\r\n                    <br />\r\n                    <div *ngIf=\"result['addedToFavorites']\">\r\n                        {{result['addedToFavorites'][0]}}\r\n                    </div>\r\n                    <a *ngIf=\"properties.LOGGED_IN&&!result['addedToFavorites']\" (click)=\"addToFavorites(result)\">Add to Favorites</a>\r\n                </td>\r\n\r\n                <td class=\"search-results-td\" data-title=\"Type\">{{ result.type }}</td>\r\n\r\n                <td class=\"search-results-td\" data-title=\"Name\">\r\n                    {{ result.name }}\r\n                </td>\r\n\r\n                <td class=\"search-results-td\" data-title=\"Created Date\">\r\n                    {{ result[\"createdDate\"] | date: \"shortDate\" }}\r\n                </td>\r\n                <td class=\"search-results-td\" data-title=\"Description\">\r\n                    {{ result.description }}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <br />\r\n        <canano-search-results-pager style=\"float: right\" [totalCount]=\"searchResultsCount\"\r\n            [startingPageLength]=\"pageLength\">\r\n        </canano-search-results-pager>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchResultsComponent } from './search-results.component';\r\nimport { SearchResultsRoutingModule } from './search-results-routing/search-results-routing.module';\r\nimport { SharedModule } from '../../../common/modules/set-object-value/shared.module';\r\n\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n@NgModule({\r\n    declarations: [SearchResultsComponent],\r\n    imports: [\r\n      CommonModule,\r\n      SearchResultsRoutingModule,\r\n      SharedModule,\r\n      FormsModule,\r\n      ReactiveFormsModule,\r\n    ]\r\n  })\r\n  export class SearchResultsModule { }\r\n"],"sourceRoot":"webpack:///"}