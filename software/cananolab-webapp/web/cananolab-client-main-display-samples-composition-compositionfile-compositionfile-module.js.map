{"version":3,"sources":["./src/app/cananolab-client/main-display/samples/composition/compositionfile/compositionfile.component.ts","./src/app/cananolab-client/main-display/samples/composition/compositionfile/compositionfile.component.html","./src/app/cananolab-client/main-display/samples/composition/compositionfile/compositionfile.module.ts","./src/app/cananolab-client/main-display/samples/composition/compositionfile/compositionfile-routing.module.ts"],"names":[],"mappings":"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","file":"cananolab-client-main-display-samples-composition-compositionfile-compositionfile-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { Properties } from '../../../../../../assets/properties';\r\nimport { Consts } from '../../../../../constants';\r\nimport { Router } from '@angular/router';\r\nimport { NavigationService } from '../../../../common/services/navigation.service';\r\nimport { ApiService } from '../../../../common/services/api.service';\r\nimport { HttpClient } from '@angular/common/http';\r\n@Component({\r\n  selector: 'canano-compositionfile',\r\n  templateUrl: './compositionfile.component.html',\r\n  styleUrls: ['../../../../../btn-bravo-canano.scss','./compositionfile.component.scss']\r\n})\r\nexport class CompositionfileComponent implements OnInit {\r\n    dataId;\r\n    setupData;\r\n    data;\r\n    dataTrailer;\r\n    errors={};\r\n    message;\r\n    theFile;\r\n    sampleId = Properties.CURRENT_SAMPLE_ID;\r\n    sampleName = Properties.CURRENT_SAMPLE_NAME;\r\n    helpUrl = Consts.HELP_URL_SAMPLE_CHARACTERIZATION;\r\n    toolHeadingNameManage = 'Sample ' + this.sampleName + ' Composition File';\r\n\r\n  constructor( private httpClient:HttpClient,private apiService:ApiService,private navigationService:NavigationService,private router: Router, private route: ActivatedRoute ){\r\n  }\r\n\r\n    ngOnInit(): void{\r\n        this.navigationService.setCurrentSelectedItem(1);\r\n        this.route.params.subscribe(\r\n            ( params: Params ) => {\r\n               this.dataId=params['dataId'];\r\n               this.sampleId=params['sampleId'];\r\n               if(\r\n                this.sampleId <= 0 ){\r\n                this.sampleId = Properties.CURRENT_SAMPLE_ID;\r\n                }else{\r\n                    Properties.CURRENT_SAMPLE_ID = this.sampleId;\r\n                };\r\n                this.apiService.getSampleName(this.sampleId).subscribe(\r\n                    data=>this.toolHeadingNameManage='Edit ' +data['sampleName'] + ' Composition File'\r\n                )\r\n                let url = this.apiService.doGet(Consts.QUERY_COMPOSITION_FILE_SETUP,'sampleId='+this.sampleId);\r\n                url.subscribe(data=> {\r\n                    this.errors={};\r\n                    Properties.SAMPLE_TOOLS=true;\r\n                    this.setupData=data;\r\n                },\r\n                error=> {\r\n                    this.errors=error;\r\n                });\r\n                if (this.dataId) {\r\n                    let url = this.apiService.doGet(Consts.QUERY_COMPOSITION_FILE_EDIT,'sampleId='+this.sampleId+'&dataId='+this.dataId);\r\n                    url.subscribe(data=> {\r\n                        this.errors={};\r\n                        this.data=data;\r\n                        this.dataTrailer=JSON.parse(JSON.stringify(this.data));\r\n                    },\r\n                    error=> {\r\n                        this.errors=error;\r\n\r\n                    })\r\n                }\r\n                else {\r\n                    this.setupNewFile();\r\n                    this.dataTrailer=JSON.parse(JSON.stringify(this.data))\r\n                }\r\n               }\r\n\r\n        );\r\n    }\r\n\r\n    delete() {\r\n        if(confirm(\"Are you sure you wish to delete this composition file?\"))\r\n        {\r\n            let url = this.apiService.doPost(Consts.QUERY_COMPOSITION_FILE_DELETE,this.data);\r\n            url.subscribe(data=> {\r\n                this.errors={};\r\n                this.router.navigate( ['home/samples/composition', this.sampleId] );\r\n            },\r\n            error=> {\r\n                this.errors=error;\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    isFileUploadValid() {\r\n        if (this.data.type!=''&&this.data.title!='') {\r\n          if (this.data.uriExternal) {\r\n              if (this.data.externalUrl!='') {\r\n                  return false;\r\n              }\r\n          }\r\n          if (!this.data.uriExternal) {\r\n              if (this.theFile) {\r\n                  return false\r\n              }\r\n          }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    saveFile() {\r\n        if (this.data.uriExternal) {\r\n        let saveUrl = this.apiService.doPost(Consts.QUERY_COMPOSITION_FILE_SAVE,this.data);\r\n          saveUrl.subscribe(data=> {\r\n              this.data=data;\r\n              this.errors={};\r\n              this.router.navigate( ['home/samples/composition', this.sampleId] );\r\n          },\r\n          error=> {\r\n            this.errors=error;\r\n        })\r\n        }\r\n        else {\r\n          this.theFile.append('uriExternal',this.data['uriExternal']);\r\n          this.theFile.append('externalUrl',this.data['externalUrl']);\r\n          this.theFile.append('type',this.data['type']);\r\n          this.theFile.append('title',this.data['title']);\r\n          this.theFile.append('keywordsStr',this.data['keywordsStr']);\r\n          this.theFile.append('description',this.data['description']);\r\n          let uploadUrl=this.httpClient.post(Consts.QUERY_UPLOAD_FILE,this.theFile);\r\n          uploadUrl.subscribe(data=> {\r\n                this.errors={};\r\n                this.data['uri']=data['fileName'];\r\n                let saveUrl = this.apiService.doPost(Consts.QUERY_COMPOSITION_FILE_SAVE,this.data);\r\n                saveUrl.subscribe(data=> {\r\n                this.errors={};\r\n                  this.data=data;\r\n                  this.router.navigate( ['home/samples/composition', this.sampleId] );\r\n\r\n              },\r\n              error=> {\r\n                this.errors=error;\r\n            })\r\n          },\r\n          error=> {\r\n            this.errors=error;\r\n\r\n          })\r\n        }\r\n        console.log('i am saving')\r\n    };\r\n\r\n    setupNewFile() {\r\n        this.data={\r\n            \"uriExternal\": false,\r\n            \"type\": \"\",\r\n            \"title\": \"\",\r\n            \"description\": \"\",\r\n            \"keywordsStr\": \"\",\r\n            \"sampleId\": this.sampleId,\r\n            \"externalUrl\": null\r\n        }\r\n    }\r\n\r\n    uploadFile(event) {\r\n        this.theFile = new FormData();\r\n        const tFile = event.target.files.item(0);\r\n        this.theFile.append('myFile', tFile, tFile.name);\r\n      }\r\n\r\n    reset() {\r\n        this.data=JSON.parse(JSON.stringify(this.dataTrailer));\r\n    }\r\n\r\n\r\n\r\n}\r\n","<canano-main-display-heading [helpUrl]=\"helpUrl\"\r\n[toolHeadingName]=\"toolHeadingNameManage\">\r\n\r\n</canano-main-display-heading>\r\n\r\n\r\n<div class=\"mainSection\">\r\n    <div class=\"error\" *ngIf=\"errors['error']\">\r\n        {{errors['error']}}\r\n    </div>\r\n    <div class=\"error\" *ngIf=\"message\">\r\n        {{message}}\r\n    </div>\r\n        <form action=\"\" method=\"get\" name=\"functionalizingEntityForm\">\r\n        <div class=\"mainBorder\">\r\n            <table class=\"dataMain\" *ngIf=\"data\">\r\n                <tr>\r\n                    <td class=\"label\">\r\n                        <label for=\"fileUpload\">\r\n                            Upload&nbsp;\r\n                        </label>\r\n                        <input type=\"radio\" name=\"data.uriExternal\" id=\"fileUpload\" [value]=\"false\" [(ngModel)]=\"data.uriExternal\">\r\n                    </td>\r\n                    <td class=\"label\">\r\n                        <label for=\"fileURL\">\r\n                            Enter File URL&nbsp;\r\n                        </label>\r\n                        <input type=\"radio\" name=\"data.uriExternal\" id=\"fileURL\" [value]=\"true\" [(ngModel)]=\"data.uriExternal\">\r\n                    </td>\r\n                </tr>\r\n                <tr *ngIf=\"data.uriExternal==1\">\r\n                    <td class=\"label\">\r\n                        <label for=\"uriExternal\">\r\n                            File URL*\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <input id=\"uriExternal\" *ngIf=\"data.uriExternal==1\" type=\"text\" name=\"data.externalUrl\" [(ngModel)]=\"data.externalUrl\">\r\n                        [<canano-disclaimer *ngIf=\"data.uriExternal==1\"></canano-disclaimer>]\r\n                    </td>\r\n                </tr>\r\n                <tr *ngIf=\"data.uriExternal==0\">\r\n                    <td class=\"label\">\r\n                        <label for=\"file\">\r\n                            File*\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <input id=\"file\" (change)=\"uploadFile($event)\" type=\"file\" name=\"data.uploadFile\">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">\r\n                        <label for=\"data.fileType\">\r\n                            File Type*\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <select name=\"data.type\" [(ngModel)]=\"data.type\" id=\"data.fileType\">\r\n                            <option [select]=\"data.type===''\" [ngValue]=\"''\">--Select</option>\r\n                            <option>document</option>\r\n                            <option>graph</option>\r\n                            <option>image</option>\r\n                            <option>movie</option>\r\n                            <option>spread sheet</option>\r\n                        </select>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">\r\n                        <label for=\"data.title\">\r\n                            File Title*\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <input id=\"data.title\" type=\"text\" name=\"data.title\" [(ngModel)]=\"data.title\">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">\r\n                        <label for=\"data.keywordsStr\">\r\n                            Keywords\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <textarea id=\"data.keywordsStr\" name=\"data.keywordsStr\" rows=\"3\" cols=\"60\" [(ngModel)]=\"data.keywordsStr\">\r\n                            {{data.keywordsStr}}\r\n                        </textarea>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">\r\n                        <label for=\"data.description\">\r\n                            Description\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <textarea id=\"data.description\" name=\"data.description\" rows=\"3\" cols=\"60\" [(ngModel)]=\"data.description\">\r\n                            {{data.description}}\r\n                        </textarea>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div><br />\r\n        <table class=\"buttons\" *ngIf=\"this.data\">\r\n            <tr>\r\n                <td *ngIf=\"dataId\">\r\n                    <button (click)=\"delete()\" class=\"btn-canano btn-canano-danger btn-canano-lg mr-1\">Delete</button>\r\n                </td>\r\n                <td class=\"buttons\">\r\n                    <button (click)=\"reset()\" class=\"btn-canano btn-canano-danger btn-canano-lg mr-1\">Reset</button>\r\n                    <button [disabled]=\"isFileUploadValid()\" (click)=\"saveFile()\" class=\"btn-canano btn-canano-primary btn-canano-lg mr-1\">Submit</button>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </form>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CompositionfileComponent } from './compositionfile.component';\r\nimport { CompositionfileRoutingModule } from './compositionfile-routing.module';\r\nimport { SharedModule } from '../../../../common/modules/set-object-value/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DisclaimerModule } from 'src/app/cananolab-client/common/components/disclaimer/disclaimer.module';\r\n\r\n\r\n@NgModule({\r\n    declarations: [CompositionfileComponent],\r\n    imports: [\r\n      CommonModule,\r\n      CompositionfileRoutingModule,\r\n      SharedModule,\r\n      FormsModule,\r\n      ReactiveFormsModule,\r\n      DisclaimerModule\r\n    ]\r\n  })\r\n  export class CompositionfileModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CompositionfileComponent } from './compositionfile.component';\r\nconst routes: Routes = [{ path: '', component: CompositionfileComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CompositionfileRoutingModule { }\r\n\r\n"],"sourceRoot":"webpack:///"}